# Story 12.2: Build Contact Card Components

## User Story

**As a** developer building the contact page
**I want** reusable contact card components
**So that** contact information is displayed consistently across the site

## Description

Create a set of reusable components for displaying contact information including emails, phone numbers, addresses, and key personnel.

## Acceptance Criteria

- [ ] ContactCard component displays all contact types
- [ ] Email addresses are clickable (mailto: links)
- [ ] Phone numbers are clickable (tel: links)
- [ ] External URLs open in new tab
- [ ] Visual icons for different contact types
- [ ] Purpose/description shown for each contact method
- [ ] Key contacts section with names and titles
- [ ] Notes/warnings section for special instructions
- [ ] Dark mode compatible

## Technical Details

### Component Structure

```
src/components/
├── contact-card.tsx          # Main contact card
├── contact-section.tsx       # Section wrapper with header
├── contact-email.tsx         # Email display with mailto
├── contact-phone.tsx         # Phone display with tel
├── contact-address.tsx       # Formatted address
├── contact-person.tsx        # Key contact person
└── contact-link.tsx          # External website link
```

### ContactCard Component

```typescript
// src/components/contact-card.tsx
import { Mail, Phone, MapPin, Globe, User, AlertTriangle } from "lucide-react";
import { Card, CardContent, CardHeader, CardTitle, CardDescription } from "@/components/ui/card";

interface EmailContact {
  address: string;
  purpose: string;
}

interface PhoneContact {
  number: string;
  purpose: string;
}

interface Address {
  line1: string;
  line2?: string;
  city: string;
  state: string;
  zip: string;
}

interface KeyContact {
  name: string;
  title: string;
  email?: string;
  phone?: string;
}

interface Website {
  url: string;
  label: string;
}

interface ContactCardProps {
  name: string;
  role: string;
  type: "management" | "insurance" | "legal" | "board";
  emails?: EmailContact[];
  phones?: PhoneContact[];
  faxes?: PhoneContact[];
  address?: Address;
  website?: Website;
  keyContacts?: KeyContact[];
  notes?: string[];
  responsibilities?: string[];
}

export function ContactCard({
  name,
  role,
  emails,
  phones,
  faxes,
  address,
  website,
  keyContacts,
  notes,
}: ContactCardProps) {
  return (
    <Card>
      <CardHeader>
        <CardTitle>{name}</CardTitle>
        <CardDescription>{role}</CardDescription>
      </CardHeader>
      <CardContent className="space-y-4">
        {/* Emails */}
        {emails && emails.length > 0 && (
          <div>
            <h4 className="font-medium flex items-center gap-2 mb-2">
              <Mail className="h-4 w-4" /> Emails
            </h4>
            <ul className="space-y-1 text-sm">
              {emails.map((email) => (
                <li key={email.address}>
                  <a
                    href={`mailto:${email.address}`}
                    className="text-primary hover:underline"
                  >
                    {email.address}
                  </a>
                  <span className="text-muted-foreground ml-2">
                    ({email.purpose})
                  </span>
                </li>
              ))}
            </ul>
          </div>
        )}

        {/* Phones */}
        {phones && phones.length > 0 && (
          <div>
            <h4 className="font-medium flex items-center gap-2 mb-2">
              <Phone className="h-4 w-4" /> Phone Numbers
            </h4>
            <ul className="space-y-1 text-sm">
              {phones.map((phone) => (
                <li key={phone.number}>
                  <a
                    href={`tel:${phone.number.replace(/[^\d+]/g, "")}`}
                    className="text-primary hover:underline"
                  >
                    {phone.number}
                  </a>
                  <span className="text-muted-foreground ml-2">
                    ({phone.purpose})
                  </span>
                </li>
              ))}
            </ul>
          </div>
        )}

        {/* Website */}
        {website && (
          <div>
            <h4 className="font-medium flex items-center gap-2 mb-2">
              <Globe className="h-4 w-4" /> Online Portal
            </h4>
            <a
              href={website.url}
              target="_blank"
              rel="noopener noreferrer"
              className="text-sm text-primary hover:underline"
            >
              {website.label}
            </a>
          </div>
        )}

        {/* Address */}
        {address && (
          <div>
            <h4 className="font-medium flex items-center gap-2 mb-2">
              <MapPin className="h-4 w-4" /> Mailing Address
            </h4>
            <address className="text-sm not-italic">
              {address.line1}<br />
              {address.line2 && <>{address.line2}<br /></>}
              {address.city}, {address.state} {address.zip}
            </address>
          </div>
        )}

        {/* Key Contacts */}
        {keyContacts && keyContacts.length > 0 && (
          <div>
            <h4 className="font-medium flex items-center gap-2 mb-2">
              <User className="h-4 w-4" /> Key Contacts
            </h4>
            <ul className="space-y-2 text-sm">
              {keyContacts.map((contact) => (
                <li key={contact.name}>
                  <span className="font-medium">{contact.name}</span>
                  <span className="text-muted-foreground block">
                    {contact.title}
                  </span>
                </li>
              ))}
            </ul>
          </div>
        )}

        {/* Notes */}
        {notes && notes.length > 0 && (
          <div className="bg-muted p-3 rounded-md">
            <h4 className="font-medium flex items-center gap-2 mb-2 text-amber-600 dark:text-amber-400">
              <AlertTriangle className="h-4 w-4" /> Notes
            </h4>
            <ul className="text-sm space-y-1">
              {notes.map((note, i) => (
                <li key={i}>{note}</li>
              ))}
            </ul>
          </div>
        )}
      </CardContent>
    </Card>
  );
}
```

### ContactSection Component

```typescript
// src/components/contact-section.tsx
import { ContactCard } from "./contact-card";
import type { ContactEntityFull } from "@/types/contacts";

interface ContactSectionProps {
  title: string;
  contact: ContactEntityFull;
}

export function ContactSection({ title, contact }: ContactSectionProps) {
  return (
    <section>
      <h2 className="text-xl font-semibold mb-4 text-muted-foreground uppercase tracking-wide">
        {title}
      </h2>
      <ContactCard {...contact} />
    </section>
  );
}
```

## Story Points: 3

## Priority: High

## Dependencies

- None (can be developed in parallel with 12.1)

## Definition of Done

- [ ] ContactCard component created
- [ ] All contact types render correctly
- [ ] Links are functional (mailto, tel, external)
- [ ] Icons display properly
- [ ] Dark mode compatible
- [ ] Component is exported and usable
- [ ] TypeScript types defined
