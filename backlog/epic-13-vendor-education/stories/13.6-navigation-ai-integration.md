# Story 13.6: Navigation, AI Integration & Cross-linking

## User Story

**As a** homeowner
**I want** the vendors section easily accessible from navigation and integrated with the AI assistant
**So that** I can find vendor information quickly and get AI-powered answers about vendors

## Acceptance Criteria

- [ ] "Vendors" link added to main site navigation
- [ ] AI assistant updated with vendor context and knowledge
- [ ] Cross-links from Contacts page to vendor profiles
- [ ] Cross-links from Quick Answers when vendor-related
- [ ] Breadcrumb navigation on vendor pages
- [ ] SEO metadata for all vendor pages
- [ ] Sitemap updated

## Technical Details

### Navigation Updates

```typescript
// Update src/components/navigation.tsx or similar
const navItems = [
  // ... existing items
  {
    label: "Vendors",
    href: "/vendors",
    description: "Know your HOA service providers",
  },
];
```

### AI Context Integration

Add vendor knowledge to AI system prompt and context builder:

```typescript
// src/lib/ai/vendor-context.ts
import { vendors } from "@/lib/data/vendors";

export function buildVendorContext(): string {
  return vendors.map((vendor) => {
    let context = `
## ${vendor.name} (${vendor.type})
${vendor.description}

Contact: ${vendor.contact.phone || "N/A"}, ${vendor.contact.email || "N/A"}
Website: ${vendor.contact.website || "N/A"}
`;

    // Add consumer rights for enforcement vendors
    if (vendor.regulatory?.consumerRights) {
      context += `
### Consumer Rights:
${vendor.regulatory.consumerRights.map((r) => `- ${r.title}: ${r.description}`).join("\n")}
`;
    }

    // Add complaint process
    if (vendor.regulatory?.complaintProcess) {
      context += `
### To file a complaint:
${vendor.regulatory.complaintProcess.description}
Phone: ${vendor.regulatory.complaintProcess.phone}
`;
    }

    return context;
  }).join("\n\n---\n\n");
}
```

### AI System Prompt Updates

```typescript
// Add to AI system prompt
const vendorKnowledge = `
## HOA Vendors

The HOA works with three main vendors:

1. **Bold Solutions** - Property Management Company
   - Day-to-day HOA operations
   - Contact: (970) 949-6070, clientservices@boldsolutions.net
   - Portal: boldpropertymanagement.appfolio.com/connect

2. **Alpenglow Law, LLC** - Legal Counsel
   - Escalated matters, collections, governance
   - Contact: (970) 306-6456, tj@alpenglowlaw.com
   - Note: Legal handles escalated matters; contact property management first

3. **Colorado Booting LLC** - Parking Enforcement
   - Vehicle immobilization for parking violations
   - BBB Rating: F (13 unanswered complaints)
   - Boot removal: (970) 306-8687 ext. 1

   IMPORTANT - Consumer Rights:
   - Max boot fee: $160
   - Max initial payment for release: $60 (HB25-1117)
   - Release time: 90 min (business) / 120 min (after hours)
   - Cannot boot occupied vehicles
   - Cannot boot solely for expired registration
   - 24-hour written notice required (with exceptions)

   To file complaint: Colorado PUC (303) 894-2070 or (800) 456-0858

For detailed vendor information, direct users to /vendors.
`;
```

### Cross-linking from Contacts Page

```typescript
// Add to contacts page
<Card>
  <CardHeader>
    <CardTitle>Want to know more about these contacts?</CardTitle>
  </CardHeader>
  <CardContent>
    <p className="text-muted-foreground mb-4">
      Learn about the companies behind these contacts, their services,
      leadership, and track records.
    </p>
    <Button asChild variant="outline">
      <Link href="/vendors">
        View Vendor Profiles <ArrowRight className="ml-2 h-4 w-4" />
      </Link>
    </Button>
  </CardContent>
</Card>
```

### SEO Metadata

```typescript
// src/app/vendors/page.tsx
export const metadata = {
  title: "Know Your Vendors | Westlake HOA Hub",
  description: "Learn about the service providers working with Westlake HOA including property management, legal counsel, and parking enforcement.",
  openGraph: {
    title: "Know Your Vendors | Westlake HOA Hub",
    description: "Comprehensive information about HOA vendors",
  },
};

// src/app/vendors/[slug]/page.tsx
export async function generateMetadata({ params }: { params: { slug: string } }) {
  const vendor = vendors.find((v) => v.slug === params.slug);
  if (!vendor) return {};

  return {
    title: `${vendor.name} | Westlake HOA Vendors`,
    description: vendor.tagline,
  };
}
```

### Breadcrumb Navigation

```typescript
// src/app/vendors/components/vendor-breadcrumb.tsx
import { ChevronRight, Home } from "lucide-react";
import Link from "next/link";

export function VendorBreadcrumb({ vendorName }: { vendorName?: string }) {
  return (
    <nav className="flex items-center gap-2 text-sm text-muted-foreground mb-6">
      <Link href="/" className="hover:text-foreground">
        <Home className="h-4 w-4" />
      </Link>
      <ChevronRight className="h-4 w-4" />
      <Link href="/vendors" className="hover:text-foreground">
        Vendors
      </Link>
      {vendorName && (
        <>
          <ChevronRight className="h-4 w-4" />
          <span className="text-foreground">{vendorName}</span>
        </>
      )}
    </nav>
  );
}
```

### Quick Answers Integration

When users ask vendor-related questions, ensure Quick Answers cards link appropriately:

```typescript
// Example quick answer for booting
{
  question: "What do I do if my car gets booted?",
  answer: "Call (970) 306-8687 ext. 1 for removal. Under Colorado law, max fee is $160 and you can pay $60 max to get released.",
  links: [
    { label: "Your Rights When Booted", href: "/vendors/colorado-booting#your-rights" },
    { label: "File a Complaint", href: "/vendors/colorado-booting#complaints" },
  ],
}
```

## Sitemap Updates

```typescript
// Add to sitemap generation
{
  url: "/vendors",
  lastModified: new Date(),
  changeFrequency: "monthly",
  priority: 0.7,
},
{
  url: "/vendors/bold-solutions",
  lastModified: new Date(),
  changeFrequency: "monthly",
  priority: 0.6,
},
{
  url: "/vendors/alpenglow-law",
  lastModified: new Date(),
  changeFrequency: "monthly",
  priority: 0.6,
},
{
  url: "/vendors/colorado-booting",
  lastModified: new Date(),
  changeFrequency: "monthly",
  priority: 0.6,
},
```

## Story Points: 3

## Dependencies

- Stories 13.2-13.5 (all vendor pages must exist)

## Definition of Done

- [ ] Vendors link in main navigation
- [ ] AI assistant answers vendor questions accurately
- [ ] AI includes consumer rights info for booting questions
- [ ] Cross-links from contacts page work
- [ ] Breadcrumbs display correctly
- [ ] SEO metadata present on all pages
- [ ] Sitemap includes vendor pages
- [ ] Mobile navigation updated
